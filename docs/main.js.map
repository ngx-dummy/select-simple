{"version":3,"file":"main.js","mappings":"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","sources":["./packages/select-sample/src/app/app.component.ts","./packages/select-sample/src/app/app.component.html","./packages/select-sample/src/app/app.module.ts","./packages/select-sample/src/environments/environment.ts","./packages/select-sample/src/main.ts","./packages/select-simple/src/index.ts","./packages/select-simple/src/lib/select-item.component.ts","./packages/select-simple/src/lib/select-simple.module.ts","./packages/select-simple/src/lib/select.component.ts","./packages/select-simple/src/lib/select.component.html","./packages/select-simple/src/lib/settings/helpers.ts","./packages/select-simple/src/lib/theming/icons-base.ts"],"sourcesContent":["import { Component, HostBinding, OnInit, TemplateRef, ViewChild } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { BasicStylesSet, ITemplates } from '@ngx-dummy/select-simple';\r\n\r\n@Component({\r\n\tselector: 'ngx-dummy-root',\r\n\ttemplateUrl: './app.component.html',\r\n\tstyleUrls: ['./app.component.scss'],\r\n})\r\nexport class AppComponent implements OnInit {\r\n\t@HostBinding('class') class = 'flex pad-1_2';\r\n\t@ViewChild('btnTmpl', { static: true }) bntOpenTmpl!: TemplateRef<HTMLElement>;\r\n\t@ViewChild('selectedItemTemplate', { static: true }) selectedItemTemplate!: TemplateRef<HTMLElement>;\r\n\ttitle = 'Select-sample';\r\n\r\n\tselectedCity1: unknown = undefined;\r\n\tselectedCity2: unknown = undefined;\r\n\tselectedCity3: unknown = undefined;\r\n\titemsTemplates: ITemplates = {};\r\n\r\n\theadStyle: BasicStylesSet = {\r\n\t\tbackgroundColor: '#4d537c',\r\n\t\tborder: '4px dotted teal',\r\n\t\tcolor: '#e2e1e1',\r\n\t\tpadding: '1rem',\r\n\t\tboxShadow: 'teal 3px 3px 11px',\r\n\t\tborderRadius: '1rem',\r\n\t\twidth: '100%',\r\n\t\tmaxWidth: '25rem',\r\n\t};\r\n\tpanelStyling: BasicStylesSet = {\r\n\t\tcolor: '#fff',\r\n\t\tbackgroundColor: '#0e4a3bcc',\r\n\t\tpadding: '10%',\r\n\t\tfontSize: '700',\r\n\t\tlineHeight: '200%',\r\n\t\tborderRadius: '1rem',\r\n\t\tborder: 'none',\r\n\t\tboxShadow: '2px 5px 2px #DDD',\r\n\t\tleft: '.5rem',\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column',\r\n\t\talignItems: 'flex-start',\r\n\t\tjustifyContent: 'space-around',\r\n\t};\r\n\r\n\tcities = [\r\n\t\t{ name: 'Moscow', code: 'MS' },\r\n\t\t{ name: 'St.Pete', code: 'SPB' },\r\n\t\t{ name: 'New York', code: 'NY' },\r\n\t\t{ name: 'Rome', code: 'RM' },\r\n\t\t{ name: 'London', code: 'LDN' },\r\n\t\t{ name: 'Paris', code: 'PRS' },\r\n\t];\r\n\r\n\tsimpleCitiesArray = [...this.cities].map(({ name }) => name);\r\n\r\n\tform = new FormGroup({\r\n\t\tselector: new FormControl(this.cities[0]),\r\n\t});\r\n\r\n\tcheckFormValid($event: MouseEvent) {\r\n\t\t$event.preventDefault();\r\n\t\talert('Is form valid: ' + this.form.valid);\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tthis.itemsTemplates = {\r\n\t\t\topenerBtnTemplate: this.bntOpenTmpl,\r\n\t\t\tselectedItemTemplate: this.selectedItemTemplate,\r\n\t\t};\r\n\t\tthis.form.valueChanges.subscribe((formValue) => {\r\n\t\t\tconsole.log({ formValue, formValid: this.form.valid });\r\n\t\t\tthis.selectedCity1 = { formValue, formValid: this.form.valid };\r\n\t\t});\r\n\t}\r\n}\r\n","<section class=\"demo\">\r\n\t<h4>Reactive form sample:</h4>\r\n\t<form [formGroup]=\"form\" (ngSubmit)=\"checkFormValid($event)\">\r\n\t\t<div class=\"resources\">\r\n\t\t\t<ngxd-select\r\n\t\t\t\tid=\"select1\"\r\n\t\t\t\t[options]=\"cities\"\r\n\t\t\t\t[templates]=\"itemsTemplates\"\r\n\t\t\t\t[readonly]=\"false\"\r\n\t\t\t\t[required]=\"true\"\r\n\t\t\t\t[resetBtn]=\"true\"\r\n\t\t\t\t[searchField]=\"true\"\r\n\t\t\t\tformControlName=\"selector\"\r\n\t\t\t\tplaceholder=\"Select a City\"\r\n\t\t\t\toptionLabelKey=\"name\"\r\n\t\t\t\t[tabindex]=\"1\"\r\n\t\t\t\t[autofocus]=\"true\"\r\n\t\t\t></ngxd-select>\r\n\t\t\t<button class=\"resource gutter-1\" type=\"submit\" [disabled]=\"!form.valid || form.pristine\">Submit (is the form Valid)</button>\r\n\t\t</div>\r\n\t</form>\r\n\r\n\t<div class=\"box\">\r\n\t\t<pre>{{ selectedCity1 | json }}</pre>\r\n\t</div>\r\n</section>\r\n\r\n<hr />\r\n\r\n<section class=\"demo\">\r\n\t<h4>ngModel sample with custom templates (bound to simple strings):</h4>\r\n\t<ngxd-select id=\"select2\" [tabindex]=\"2\" [options]=\"simpleCitiesArray\" [panelStyle]=\"panelStyling\" [headerStyle]=\"headStyle\" [(ngModel)]=\"selectedCity2\"></ngxd-select>\r\n\t<div class=\"box\">\r\n\t\t<pre>{{ selectedCity2 | json }}</pre>\r\n\t</div>\r\n</section>\r\n\r\n<hr />\r\n\r\n<section class=\"demo\">\r\n\t<h4>Sample using content projection of items:</h4>\r\n\t<ngxd-select id=\"select3\" [tabindex]=\"3\" [(ngModel)]=\"selectedCity3\" placeholder=\"Via Projection\">\r\n\t\t<div class=\"simple-items\">\r\n\t\t\t<ngxd-select-item [visible]=\"true\" label=\"Kaluga\" option=\"Kaluga\" (optionClick)=\"selectedCity3 = $event\"></ngxd-select-item>\r\n\t\t\t<ngxd-select-item [visible]=\"true\" label=\"Vladivostok\" [option]=\"{ name: 'Vladivostok' }\" (optionClick)=\"selectedCity3 = $event\"></ngxd-select-item>\r\n\t\t\t<!--and additional via iterable-->\r\n\t\t\t<ngxd-select-item *ngFor=\"let item of cities\" [option]=\"item\" [label]=\"item.name\"></ngxd-select-item>\r\n\t\t</div>\r\n\t</ngxd-select>\r\n\t<div class=\"box\">\r\n\t\t<pre>{{ selectedCity3 | json }}</pre>\r\n\t</div>\r\n</section>\r\n\r\n<hr />\r\n\r\n<section class=\"demo\">\r\n\t<h4>Disabled sample:</h4>\r\n\t<ngxd-select id=\"select4\" [tabindex]=\"4\" placeholder=\"Disabled\" [disabled]=\"true\"></ngxd-select>\r\n</section>\r\n\r\n<hr />\r\n\r\n<section class=\"demo\">\r\n\t<h4>Readonly sample:</h4>\r\n\t<ngxd-select id=\"select5\" [readonly]=\"true\" [options]=\"simpleCitiesArray\"></ngxd-select>\r\n</section>\r\n\r\n<ng-template #btnTmpl let-visible>\r\n\t<style>\r\n\t\t.open-btn {\r\n\t\t\tdisplay: grid;\r\n\t\t\tplace-content: center;\r\n\t\t\tmargin: 0.1rem 1rem;\r\n\t\t\tpadding: 1rem;\r\n\t\t\tborder-radius: 0.2rem;\r\n\t\t\tcolor: #ffffff;\r\n\t\t\tfont-size: 14px;\r\n\t\t\tborder-color: red;\r\n\t\t\tposition: relative;\r\n\t\t\tbackground: blue\r\n\t\t\t\turl(\"data:image/svg+xml;utf8,<svg viewBox='0 0 140 140' width='24' height='24' xmlns='http://www.w3.org/2000/svg'><g><path d='m121.3,34.6c-1.6-1.6-4.2-1.6-5.8,0l-51,51.1-51.1-51.1c-1.6-1.6-4.2-1.6-5.8,0-1.6,1.6-1.6,4.2 0,5.8l53.9,53.9c0.8,0.8 1.8,1.2 2.9,1.2 1,0 2.1-0.4 2.9-1.2l53.9-53.9c1.7-1.6 1.7-4.2 0.1-5.8z' fill='white'/></g></svg>\")\r\n\t\t\t\tno-repeat;\r\n\t\t\tbackground-position: right 5px top 50%;\r\n\t\t}\r\n\t\t.up {\r\n\t\t\ttransform: rotate(180deg);\r\n\t\t}\r\n\t</style>\r\n\t<span class=\"open-btn\" [class.up]=\"visible\"></span>\r\n</ng-template>\r\n\r\n<ng-template #selectedItemTemplate let-label>\r\n\t<style>\r\n\t\t.selected-container {\r\n\t\t\tbackground-color: aqua;\r\n\t\t\tborder-radius: .1rem;\r\n\t\t\tmin-height: 2rem;\r\n\t\t\tpadding: 0.2rem 0.4rem;\r\n\t\t\tmargin: 0.1rem;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-around;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\t</style>\r\n\t<div class=\"selected-container\">\r\n\t\t<ion-icon name=\"add-circle-outline\"></ion-icon>\r\n\t\t&nbsp;\r\n\t\t<span class=\"label\">{{ label }}</span>\r\n\t</div>\r\n</ng-template>\r\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { SelectSimpleModule } from '@ngx-dummy/select-simple';\r\n\r\n@NgModule({\r\n\tdeclarations: [AppComponent],\r\n\r\n\timports: [BrowserModule, FormsModule, ReactiveFormsModule, SelectSimpleModule],\r\n\tschemas: [CUSTOM_ELEMENTS_SCHEMA],\r\n\tbootstrap: [AppComponent],\r\n})\r\nexport class AppModule {}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic()\r\n  .bootstrapModule(AppModule)\r\n  .catch((err) => console.error(err));\r\n","export { SelectItemComponent } from './lib/select-item.component';\r\nexport * from './lib/select-simple.module';\r\nexport { SelectComponent } from './lib/select.component';\r\nexport { BasicStylesSet, IOption, IOptionClickEvent, ISelectItem, ITemplates } from './lib/settings/models';\r\n","/* eslint-disable @angular-eslint/no-host-metadata-property */\r\nimport { ChangeDetectionStrategy, Component, EventEmitter, Input, OnChanges, Output, SimpleChanges, TemplateRef } from '@angular/core';\r\nimport { IOption, IOptionClickEvent } from './settings/models';\r\n\r\n@Component({\r\n\tselector: 'ngxd-select-item',\r\n\tstyles: [\r\n\t\t`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tpadding: 0.1rem;\r\n\t\t\t\t.item-disabled {\r\n\t\t\t\t\tcursor: not-allowed !important;\r\n\t\t\t\t\tpointer-events: none;\r\n\t\t\t\t\tcolor: var(--ngxd-disabled);\r\n\t\t\t\t\tuser-select: none;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.item-highlight:not(.item-disabled) {\r\n\t\t\t\t\tuser-select: none;\r\n\t\t\t\t\tcursor: pointer;\r\n\t\t\t\t\tpointer-events: all;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t`,\r\n\t],\r\n\ttemplate: `\r\n\t\t<ng-container *ngIf=\"template; else simpleItemTmpl\">\r\n\t\t\t<ng-container *ngTemplateOutlet=\"template; context: { $implicit: option }\"></ng-container>\r\n\t\t</ng-container>\r\n\t\t<ng-template #simpleItemTmpl>{{ caption }}</ng-template>\r\n\t`,\r\n\thost: {\r\n\t\t'[attr.role]': '\"option\"',\r\n\t\t'[attr.disabled]': 'disabled',\r\n\t\t'[ngStyle]': '{ \"height\": \"height\", \"visibility\": \"visibility\", \"background-color\": \"itemBg\", \"color\": \"color\" }',\r\n\t\t'[class.select-item]': 'true',\r\n\t\t'[class.item-highlight]': 'selected',\r\n\t\t'[class.item-disabled]': 'disabled',\r\n\t\t'[ngClass]': 'option?.styleClass',\r\n\t\t'(click)': 'onOptionClick($event)',\r\n\t},\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class SelectItemComponent implements OnChanges {\r\n\t@Input() option: IOption = undefined;\r\n\t@Input() selected = false;\r\n\t@Input() disabled = false;\r\n\t@Input() visible = true;\r\n\t@Input() itemBg = 'transparent';\r\n\t@Input() color = '#ddd';\r\n\t@Input() itemSize: number | undefined = 25;\r\n\t@Input() label: string | null = null;\r\n\t@Input() template?: TemplateRef<HTMLElement>;\r\n\t@Output() optionClick: EventEmitter<IOptionClickEvent> = new EventEmitter();\r\n\r\n\theight = '100%';\r\n\tvisibility = 'hidden';\r\n\tcaption = 'Empty';\r\n\r\n\tngOnChanges(changes: SimpleChanges) {\r\n\t\tObject.entries(changes).forEach(([changeKey, changeVal]) => {\r\n\t\t\tif (changeVal.currentValue === changeVal.previousValue) return;\r\n\r\n\t\t\tif (changeKey === 'itemSize') {\r\n\t\t\t\tthis.height = (typeof this.itemSize === 'number' ? `${this.itemSize}px` : this.itemSize) ?? '100%';\r\n\t\t\t}\r\n\t\t\tif (changeKey === 'visible') {\r\n\t\t\t\tthis.visibility = this.visible ? 'visible' : 'hidden';\r\n\t\t\t}\r\n\t\t\tif (changeKey === 'option' || changeKey === 'label') {\r\n\t\t\t\tthis.caption = this.label?.trim().length ? this.label : 'Empty';\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonOptionClick($event: MouseEvent) {\r\n\t\tthis.optionClick.emit({\r\n\t\t\tbaseEvent: $event,\r\n\t\t\toption: this.option ?? (this.label || 'Nothing selected'),\r\n\t\t});\r\n\t}\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { SelectItemComponent } from './select-item.component';\r\nimport { SelectComponent } from './select.component';\r\n\r\n@NgModule({\r\n\timports: [CommonModule, FormsModule],\r\n\tdeclarations: [SelectComponent, SelectItemComponent],\r\n\texports: [SelectComponent, SelectItemComponent],\r\n})\r\nexport class SelectSimpleModule {}\r\n","import {\r\n\tAfterContentInit,\r\n\tChangeDetectionStrategy,\r\n\tChangeDetectorRef,\r\n\tComponent,\r\n\tContentChildren,\r\n\tElementRef,\r\n\tEventEmitter,\r\n\tforwardRef,\r\n\tInput,\r\n\tNgZone,\r\n\tOnChanges,\r\n\tOutput,\r\n\tProvider,\r\n\tQueryList,\r\n\tRenderer2,\r\n\tSimpleChanges,\r\n\tTemplateRef,\r\n\tViewChild,\r\n\tViewEncapsulation,\r\n\tViewRef,\r\n} from '@angular/core';\r\nimport { AbstractControl, ControlValueAccessor, NG_VALIDATORS, NG_VALUE_ACCESSOR, Validators } from '@angular/forms';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { BehaviorSubject, fromEvent, Observable, of } from 'rxjs';\r\nimport { debounceTime, shareReplay, switchMap, takeUntil } from 'rxjs/operators';\r\nimport { SelectItemComponent } from './select-item.component';\r\nimport { areEqual, getSvgSafeRes, isString, OptionKeyboardEventHandleKeys, resolveFieldData } from './settings/helpers';\r\nimport { BasicStylesSet, IOption, IOptionClickEvent, ISelectItem, ITemplates } from './settings/models';\r\nimport { arrow_down } from './theming/icons-base';\r\n\r\nexport const SELECT_VALUE_ACCESSOR_PROVIDER: Provider = {\r\n\tprovide: NG_VALUE_ACCESSOR,\r\n\tuseExisting: forwardRef(() => SelectComponent),\r\n\tmulti: true,\r\n};\r\nexport const NG_VALIDATORS_PROVIDER: Provider = {\r\n\tprovide: NG_VALIDATORS,\r\n\tuseExisting: forwardRef(() => SelectComponent),\r\n\tmulti: true,\r\n};\r\n\r\n@Component({\r\n\tselector: 'ngxd-select',\r\n\ttemplateUrl: 'select.component.html',\r\n\tproviders: [SELECT_VALUE_ACCESSOR_PROVIDER, NG_VALIDATORS_PROVIDER],\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\r\n\tencapsulation: ViewEncapsulation.None,\r\n\tstyleUrls: ['select.component.scss'],\r\n\thost: {\r\n\t\t'[class]': 'styleClass',\r\n\t\t'[style]': 'headerStyle',\r\n\t\t'[class.wrapper-focus]': 'focused || overlayVisible',\r\n\t\t'[class.select]': 'true',\r\n\t\t'[class.disabled]': 'disabled',\r\n\t\t'[class.focus]': 'focused || overlayVisible',\r\n\t\t'[class.select-open]': 'overlayVisible',\r\n\t\t'[attr.tabIndex]': 'tabindex',\r\n\t\t'[attr.autofocus]': 'autofocus',\r\n\t\t'[attr.name]': 'name',\r\n\t\t'(blur)': 'onHostBlur($event)',\r\n\t\t'(focus)': 'onHostFocus($event)',\r\n\t\t'(keydown)': 'onKeydown($event)',\r\n\t\t'(click)': 'onMouseclick($event)',\r\n\t},\r\n})\r\nexport class SelectComponent implements AfterContentInit, OnChanges, ControlValueAccessor {\r\n\t@ViewChild('defaultSelectIconTmpl', { read: TemplateRef, static: true }) defaultOpenerTemplate: TemplateRef<HTMLElement> | undefined;\r\n\t@ViewChild('itemsListDefaultTmpl', { read: TemplateRef, static: true }) itemsListDefaultTmpl: TemplateRef<HTMLElement> | undefined;\r\n\t@ContentChildren(SelectItemComponent, { descendants: true }) projectedItems: QueryList<SelectItemComponent> | undefined;\r\n\t@Input() templates: ITemplates | undefined;\r\n\t@Input() name: string | null = null;\r\n\r\n\t/** set additional custom classList to the Select component's panel   */\r\n\t@Input() panelStyleClass = 'panel';\r\n\t/** set additional custom classList to the Select component   */\r\n\t@Input() styleClass = '';\r\n\t@Input() readonly = false;\r\n\t@Input() required = false;\r\n\t/** whether to display reset button in the end of the options   */\r\n\t@Input() resetBtn = false;\r\n\t/** whether to display search field */\r\n\t@Input() searchField = false;\r\n\t/** whether to set auto focus to component */\r\n\t@Input() autofocus = false;\r\n\t/** default component caption (panel caption) */\r\n\t@Input() placeholder?: string = undefined;\r\n\t/** string key of the Options input (in case of complex object) of kind: 'key' / 'key.subkey'...  if set, would resolve the options' captions */\r\n\t@Input() optionLabelKey?: string | undefined = undefined;\r\n\t@Input() selectIconClass = '';\r\n\t@Input() tabindex = 0;\r\n\t@Input() itemSize: number | undefined;\r\n\t@Output() onChange: EventEmitter<any> = new EventEmitter();\r\n\t@Output() onClick: EventEmitter<any> = new EventEmitter();\r\n\t@Output() onShow: EventEmitter<boolean> = new EventEmitter();\r\n\t@Output() onHide: EventEmitter<boolean> = new EventEmitter();\r\n\t@Output() onFocus: EventEmitter<any> = new EventEmitter();\r\n\t@Output() onBlur: EventEmitter<any> = new EventEmitter();\r\n\r\n\topenerBtnTemplate: TemplateRef<HTMLElement> | undefined;\r\n\titemslistTemplate: TemplateRef<HTMLElement> | undefined;\r\n\ttrigger_icon = getSvgSafeRes(arrow_down, this.sanitizer);\r\n\r\n\tprivate _overlayVisible$$ = new BehaviorSubject(false);\r\n\tprivate _optionsToDisplay$$ = new BehaviorSubject(<IOption[]>[]);\r\n\r\n\tprivate _headerStyle = {};\r\n\tprivate _options: IOption[] = [];\r\n\tprivate _disabled = false;\r\n\tprivate _panelStyle: BasicStylesSet = {\r\n\t\tbackgroundColor: 'rgba(1, 1, 1, 0.45)',\r\n\t\tcolor: '#fff',\r\n\t\tborder: '1px solid var(--ngxd-primary-color)',\r\n\t\tborderRadius: '0.2rem',\r\n\t\tboxShadow: '2px 5px 10px rgba(55, 55, 55, 0.8)',\r\n\t};\r\n\r\n\toverlayVisible$: Observable<boolean> = this._overlayVisible$$.asObservable().pipe(\r\n\t\tshareReplay({\r\n\t\t\trefCount: true,\r\n\t\t\tbufferSize: 1,\r\n\t\t})\r\n\t);\r\n\r\n\toptionsToDisplay$: Observable<IOption[]> = this._optionsToDisplay$$.asObservable().pipe(\r\n\t\tshareReplay({\r\n\t\t\trefCount: true,\r\n\t\t\tbufferSize: 1,\r\n\t\t})\r\n\t);\r\n\r\n\titemTemplate: TemplateRef<HTMLElement> | undefined;\r\n\tselectedItemTemplate: TemplateRef<HTMLElement> | null = null;\r\n\tselectedOption: IOption | null = null;\r\n\tselectedItemIndex = 0;\r\n\thover = false;\r\n\toptionsChanged = false;\r\n\tfocused = false;\r\n\tpanel: HTMLDivElement | undefined;\r\n\tprevValue: any;\r\n\tvalue: any;\r\n\tonModelChange: (...args: unknown[]) => unknown = () => void 0;\r\n\tonModelTouched: () => void = () => void 0;\r\n\r\n\tonHostFocus() {\r\n\t\tconsole.log('Focus, prev value :: ', this.prevValue);\r\n\t}\r\n\tonHostBlur() {\r\n\t\tthis.prevValue = this.selectedOption || null;\r\n\t\tconsole.log('BLUR, prev val :: ', this.prevValue);\r\n\t}\r\n\r\n\t/**\r\n\t * @property\r\n\t * @param {BasicStylesSet} headStyleObj - styles to override the defaults of Select component panel\r\n\t */\r\n\t@Input() set headerStyle(headStyleObj: BasicStylesSet) {\r\n\t\tif (!!headStyleObj && !!Object.keys(headStyleObj).length) {\r\n\t\t\tthis._headerStyle = {\r\n\t\t\t\t...this._headerStyle,\r\n\t\t\t\t...headStyleObj,\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\tget headerStyle() {\r\n\t\treturn this._headerStyle;\r\n\t}\r\n\r\n\t@Input() set panelStyle(stylesObj: BasicStylesSet) {\r\n\t\tif (!!stylesObj && !!Object.keys(stylesObj).length) {\r\n\t\t\tthis._panelStyle = {\r\n\t\t\t\t...this._panelStyle,\r\n\t\t\t\t...stylesObj,\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\tget panelStyle() {\r\n\t\treturn this._panelStyle;\r\n\t}\r\n\r\n\t// get options(): IOption[] {\r\n\t// \treturn this._options;\r\n\t// }\r\n\t@Input() set options(val: IOption[]) {\r\n\t\tthis._options = val;\r\n\t\t// this.optionsToDisplay = this._options;\r\n\t\tthis._optionsToDisplay$$.next(val);\r\n\t\tthis.updateSelectedOption();\r\n\t}\r\n\r\n\t@Input() get disabled(): boolean {\r\n\t\treturn this._disabled;\r\n\t}\r\n\tset disabled(_disabled: boolean) {\r\n\t\tif (_disabled) {\r\n\t\t\tthis.focused = false;\r\n\t\t\tif (this._overlayVisible$$.value) this.hide();\r\n\t\t}\r\n\r\n\t\tthis._disabled = _disabled;\r\n\t\tif (!(this.cd as ViewRef).destroyed) {\r\n\t\t\tthis.cd.detectChanges();\r\n\t\t}\r\n\t}\r\n\r\n\tconstructor(\r\n\t\t// @Self() @Optional() ngControl: NgControl,\r\n\t\tpublic el: ElementRef<Element>,\r\n\t\tpublic renderer: Renderer2,\r\n\t\tpublic cd: ChangeDetectorRef,\r\n\t\tprivate sanitizer: DomSanitizer,\r\n\t\tpublic zone: NgZone\r\n\t) {\r\n\t\t// if (ngControl) {\r\n\t\t//   ngControl.valueAccessor = this;\r\n\t\t// }\r\n\t}\r\n\r\n\tngOnChanges(changes: SimpleChanges) {\r\n\t\tObject.entries(changes).forEach(([changeKey, change]) => {\r\n\t\t\tif (changeKey === 'templates') {\r\n\t\t\t\tif (change.currentValue === change.previousValue) return;\r\n\t\t\t\t// if (!change.isFirstChange()) return;\r\n\r\n\t\t\t\tthis.openerBtnTemplate = change.currentValue['openerBtnTemplate'] || this.defaultOpenerTemplate;\r\n\t\t\t\tthis.itemsListDefaultTmpl = change.currentValue['itemslistTemplate'] || this.itemsListDefaultTmpl;\r\n\t\t\t\tthis.cd.markForCheck();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tngAfterContentInit() {\r\n\t\tthis.openerBtnTemplate = this.templates?.openerBtnTemplate ? this.templates.openerBtnTemplate : this.defaultOpenerTemplate;\r\n\t\tthis.itemsListDefaultTmpl = this.templates?.itemslistTemplate ? this.templates.itemslistTemplate : this.itemsListDefaultTmpl;\r\n\t\tif (this.templates?.selectedItemTemplate) {\r\n\t\t\tthis.selectedItemTemplate = this.templates.selectedItemTemplate;\r\n\t\t}\r\n\r\n\t\tthis.projectedItems?.forEach((itemCmp) => {\r\n\t\t\titemCmp.optionClick.subscribe((e) => this.onItemClick(e));\r\n\t\t});\r\n\r\n\t\tfromEvent<MouseEvent>(document, 'click')\r\n\t\t\t.pipe(\r\n\t\t\t\tswitchMap((ev: MouseEvent) => {\r\n\t\t\t\t\tconst iconContainer = (<HTMLElement>ev.target)?.classList?.contains('select-trigger-icon');\r\n\r\n\t\t\t\t\tif (this.isOutsideClicked(ev) && !iconContainer) {\r\n\t\t\t\t\t\tthis.cd.markForCheck();\r\n\t\t\t\t\t\tthis.hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn of(ev);\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t\t.subscribe();\r\n\t\t// this.updateSelectedOption();\r\n\t}\r\n\r\n\tonInputFocus($event: Event) {\r\n\t\tthis.focused = true;\r\n\t\tthis.onFocus.emit($event);\r\n\t}\r\n\r\n\tonInputBlur($event: Event) {\r\n\t\tthis.focused = false;\r\n\t\tthis.onBlur.emit($event);\r\n\t}\r\n\r\n\tget label() {\r\n\t\treturn this.selectedOption\r\n\t\t\t? this.getOptionLabel(this.selectedOption)\r\n\t\t\t: this.placeholder?.length\r\n\t\t\t? this.placeholder\r\n\t\t\t: this.options?.length\r\n\t\t\t? this.getOptionLabel(this.options[0])\r\n\t\t\t: null;\r\n\t}\r\n\r\n\tgetOptionLabel(option: IOption) {\r\n\t\treturn resolveFieldData(option, this.optionLabelKey);\r\n\t}\r\n\r\n\tgetOptionValue(option: IOption | null): string | null {\r\n\t\tif (!option) return null;\r\n\t\treturn resolveFieldData(option);\r\n\t}\r\n\r\n\tisOptionDisabled(option: IOption): boolean {\r\n\t\treturn isString(option) ? false : !!option?.disabled || false;\r\n\t}\r\n\r\n\tonItemClick({ option, baseEvent }: IOptionClickEvent) {\r\n\t\tif (this.readonly) {\r\n\t\t\tconsole.log('DropDown is READONLY');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!option) return;\r\n\r\n\t\tif (!this.isOptionDisabled(option)) {\r\n\t\t\tthis.selectItem(baseEvent, option);\r\n\t\t}\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.hide();\r\n\t\t}, 150);\r\n\t}\r\n\r\n\tselectItem($event: Event, option: IOption | null, update = true) {\r\n\t\t// if (this.selectedOption != option) {\r\n\t\tthis.selectedOption = option;\r\n\r\n\t\tif (update) {\r\n\t\t\tthis.value = this.getOptionValue(option);\r\n\t\t\tthis.onModelChange(this.value);\r\n\t\t\tthis.onChange.emit({\r\n\t\t\t\toriginalEvent: $event,\r\n\t\t\t\tvalue: this.value,\r\n\t\t\t});\r\n\t\t}\r\n\t\t// }\r\n\t}\r\n\r\n\twriteValue(value: any) {\r\n\t\tthis.value = value;\r\n\t\tthis.updateSelectedOption();\r\n\t\tthis.cd.markForCheck();\r\n\t}\r\n\r\n\tvalidate({ value }: AbstractControl) {\r\n\t\tif (this.required && !value) return { invalid: true };\r\n\t\tconst isNotValid = this.required && !value && !!Validators.required(value);\r\n\t\treturn (\r\n\t\t\tisNotValid && {\r\n\t\t\t\tinvalid: true,\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tupdateSelectedOption() {\r\n\t\t// this.selectedOption = this.findOption(val, this.optionsToDisplay);\r\n\t\tif (!this.placeholder && !this.selectedOption && this._optionsToDisplay$$.value?.length) {\r\n\t\t\tthis.selectedOption = this._optionsToDisplay$$.value[0];\r\n\t\t}\r\n\t}\r\n\r\n\tregisterOnChange(fn: (...args: unknown[]) => unknown) {\r\n\t\tthis.onModelChange = fn;\r\n\t}\r\n\r\n\tregisterOnTouched(fn: (...args: unknown[]) => unknown) {\r\n\t\tthis.onModelTouched = fn;\r\n\t}\r\n\r\n\tsetDisabledState(val: boolean) {\r\n\t\tthis.disabled = val;\r\n\t\tthis.cd.markForCheck();\r\n\t}\r\n\r\n\tonMouseclick($event: Event) {\r\n\t\tif (this.disabled) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!this.readonly) {\r\n\t\t\tthis.onClick.emit($event);\r\n\t\t}\r\n\r\n\t\tif (this._overlayVisible$$.value) this.hide();\r\n\t\telse this.show();\r\n\r\n\t\tthis.cd.detectChanges();\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.selectItem(new MouseEvent('click'), null);\r\n\t}\r\n\r\n\tisOutsideClicked(event: Event): boolean {\r\n\t\treturn !(this.el.nativeElement.isSameNode(event.target as Node) || this.el.nativeElement.contains(event.target as Node));\r\n\t}\r\n\r\n\tshow() {\r\n\t\tthis._overlayVisible$$.next(true);\r\n\t\tthis.onShow.emit(true);\r\n\t\tif (!this.searchField || !this._optionsToDisplay$$.value?.length) return;\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tconst searchFieldInputEl = this.el.nativeElement?.querySelector('.search-term__container .search-term') as HTMLInputElement;\r\n\t\t\tif (!searchFieldInputEl) return;\r\n\r\n\t\t\tsearchFieldInputEl?.focus();\r\n\r\n\t\t\tfromEvent<InputEvent>(searchFieldInputEl, 'input')\r\n\t\t\t\t.pipe(\r\n\t\t\t\t\ttakeUntil(this.onHide),\r\n\t\t\t\t\tdebounceTime(200),\r\n\t\t\t\t\tswitchMap(($event) => of((<HTMLInputElement>$event.target).value))\r\n\t\t\t\t)\r\n\t\t\t\t.subscribe((searchTerm) =>\r\n\t\t\t\t\tthis._optionsToDisplay$$.next(\r\n\t\t\t\t\t\tsearchTerm.length\r\n\t\t\t\t\t\t\t? this._options?.filter((opt) => {\r\n\t\t\t\t\t\t\t\t\tconst optionValue = this.getOptionValue(opt);\r\n\t\t\t\t\t\t\t\t\tconst found = !!optionValue?.toLowerCase().includes(searchTerm.toLowerCase());\r\n\t\t\t\t\t\t\t\t\treturn found;\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t: this._options\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\thide() {\r\n\t\tthis.onHide.emit(false);\r\n\t\tthis._overlayVisible$$.next(false);\r\n\t\tthis._optionsToDisplay$$.next(this._options);\r\n\t}\r\n\r\n\tonKeydown($event: KeyboardEvent) {\r\n\t\tif (this.isOutsideClicked($event)) {\r\n\t\t\tconsole.log('Clicked outside of the component ...');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.readonly || !this._optionsToDisplay$$.value?.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tswitch ($event.key) {\r\n\t\t\tcase OptionKeyboardEventHandleKeys.ArrowDown:\r\n\t\t\tcase OptionKeyboardEventHandleKeys.Down: {\r\n\t\t\t\tif (!this._overlayVisible$$.value && $event.altKey) {\r\n\t\t\t\t\tthis.show();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.selectedItemIndex = this.selectedOption ? this.findOptionIndex(this.getOptionValue(this.selectedOption), this._optionsToDisplay$$.value) : -1;\r\n\t\t\t\t\tconst nextEnabledOption = this.findNextEnabledOption(this.selectedItemIndex);\r\n\t\t\t\t\tif (nextEnabledOption) {\r\n\t\t\t\t\t\tthis.selectItem($event, nextEnabledOption, false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t$event.preventDefault();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase OptionKeyboardEventHandleKeys.ArrowUp:\r\n\t\t\tcase OptionKeyboardEventHandleKeys.Up: {\r\n\t\t\t\tthis.selectedItemIndex = this.selectedOption ? this.findOptionIndex(this.getOptionValue(this.selectedOption), this._optionsToDisplay$$.value) : -1;\r\n\t\t\t\tconst prevEnabledOption = this.findPrevEnabledOption(this.selectedItemIndex);\r\n\t\t\t\tif (prevEnabledOption) {\r\n\t\t\t\t\tthis.selectItem($event, prevEnabledOption, false);\r\n\t\t\t\t}\r\n\t\t\t\t$event.preventDefault();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase OptionKeyboardEventHandleKeys.Space: {\r\n\t\t\t\tif (!this._overlayVisible$$.value) {\r\n\t\t\t\t\tthis.show();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.hide();\r\n\t\t\t\t}\r\n\t\t\t\t$event.preventDefault();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase OptionKeyboardEventHandleKeys.Enter: {\r\n\t\t\t\tthis.hide();\r\n\t\t\t\tthis.prevValue = this.selectedOption;\r\n\t\t\t\tthis.selectItem($event, this.selectedOption, true);\r\n\t\t\t\t$event.preventDefault();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase OptionKeyboardEventHandleKeys.Escape:\r\n\t\t\tcase OptionKeyboardEventHandleKeys.Esc: {\r\n\t\t\t\tthis.selectItem($event, this.prevValue);\r\n\t\t\t\tthis.hide();\r\n\t\t\t\t$event.preventDefault();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase OptionKeyboardEventHandleKeys.Tab: {\r\n\t\t\t\tthis.hide();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfindOptionIndex(val: string | null, opts: IOption[]): number {\r\n\t\tif (!val?.trim().length) return -1;\r\n\t\tif (!opts?.length) return -1;\r\n\r\n\t\tlet index = -1;\r\n\t\tfor (let i = 0; i < opts.length; i++) {\r\n\t\t\tif (areEqual(val, this.getOptionValue(opts[i]))) {\r\n\t\t\t\tindex = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn index;\r\n\t}\r\n\r\n\tfindPrevEnabledOption(index: number) {\r\n\t\tlet prevEnabledOption;\r\n\r\n\t\tif (this._optionsToDisplay$$.value?.length) {\r\n\t\t\tfor (let i = index - 1; 0 <= i; i--) {\r\n\t\t\t\tconst option = this._optionsToDisplay$$.value[i];\r\n\t\t\t\tif ((<ISelectItem>option)?.disabled) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tprevEnabledOption = option;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!prevEnabledOption) {\r\n\t\t\t\tfor (let i = this._optionsToDisplay$$.value?.length - 1; i >= index; i--) {\r\n\t\t\t\t\tconst option = this._optionsToDisplay$$.value?.[i];\r\n\t\t\t\t\tif (this.isOptionDisabled(option)) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tprevEnabledOption = option;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn prevEnabledOption;\r\n\t}\r\n\r\n\tfindNextEnabledOption(index: number) {\r\n\t\tlet nextEnabledOption;\r\n\r\n\t\tif (this._optionsToDisplay$$.value?.length) {\r\n\t\t\tfor (let i = index + 1; i < this._optionsToDisplay$$.value?.length; i++) {\r\n\t\t\t\tconst option = this._optionsToDisplay$$.value?.[i];\r\n\t\t\t\tif (this.isOptionDisabled(option)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnextEnabledOption = option;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!nextEnabledOption) {\r\n\t\t\t\tfor (let i = 0; i < index; i++) {\r\n\t\t\t\t\tconst option = this._optionsToDisplay$$.value?.[i];\r\n\t\t\t\t\tif (this.isOptionDisabled(option)) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnextEnabledOption = option;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn nextEnabledOption;\r\n\t}\r\n}\r\n","<span *ngIf=\"!!label; else NoLabelTmpl\">\r\n\t<ng-container *ngIf=\"!selectedItemTemplate; else selectedItemSelectedTmpl\">{{ label }}</ng-container>\r\n</span>\r\n\r\n<div class=\"select-trigger\" role=\"button\" [attr.aria-expanded]=\"overlayVisible$ | async\">\r\n\t<ng-container *ngIf=\"openerBtnTemplate\">\r\n\t\t<ng-container *ngTemplateOutlet=\"openerBtnTemplate; context: { $implicit: overlayVisible$ | async }\"></ng-container>\r\n\t</ng-container>\r\n</div>\r\n\r\n<div *ngIf=\"overlayVisible$ | async\" class=\"select-panel\" [ngStyle]=\"panelStyle\" [class]=\"panelStyleClass\">\r\n\t<ng-container *ngIf=\"searchField\">\r\n\t\t<ng-container *ngTemplateOutlet=\"searchTermTmpl\"></ng-container>\r\n\t</ng-container>\r\n\r\n\t<ng-container *ngIf=\"!!(optionsToDisplay$ | async)?.length; then itemsListDefaultTmpl; else noInputOptionsTmpl\">\r\n\t</ng-container>\r\n\r\n\t<button *ngIf=\"resetBtn\" class=\"reset\" (click)=\"reset()\">\r\n\t\t<span>Reset</span>\r\n\t</button>\r\n</div>\r\n\r\n\r\n<ng-template #NoLabelTmpl>\r\n\t<span [ngClass]=\"{ 'select-label': true, 'select-label-empty': !!!placeholder?.length }\">\r\n\t\t{{ placeholder || 'empty' }}\r\n\t</span>\r\n</ng-template>\r\n\r\n<ng-template #selectedItemSelectedTmpl>\r\n\t<ng-container\r\n\t\t*ngTemplateOutlet=\"selectedItemTemplate; context: { $implicit: label, selectedOption: selectedOption  }\">\r\n\t</ng-container>\r\n</ng-template>\r\n\r\n<ng-template #defaultSelectIconTmpl let-overlayVisible>\r\n\t<span class=\"select-trigger-icon\" [ngClass]=\"selectIconClass\"\r\n\t\t[ngClass]=\"{ open: overlayVisible, close: !overlayVisible }\">\r\n\t\t<img class=\"select-trigger__default-img\" [src]=\"trigger_icon\" />\r\n\t</span>\r\n</ng-template>\r\n\r\n<ng-template #itemsListDefaultTmpl>\r\n\t<div class=\"select-items-wrapper\">\r\n\t\t<div class=\"select-items\">\r\n\t\t\t<ng-container *ngIf=\"optionsToDisplay$ | async as optionsToDisplay\">\r\n\t\t\t\t<ng-template ngFor let-option let-i=\"index\" [ngForOf]=\"optionsToDisplay\">\r\n\t\t\t\t\t<ngxd-select-item [id]=\"i\" [selected]=\"selectedOption === option\" [label]=\"getOptionLabel(option)\"\r\n\t\t\t\t\t\t[disabled]=\"isOptionDisabled(option)\" (optionClick)=\"onItemClick($event)\" [template]=\"itemTemplate\"\r\n\t\t\t\t\t\t[itemSize]=\"itemSize\"></ngxd-select-item>\r\n\t\t\t\t</ng-template>\r\n\t\t\t</ng-container>\r\n\t\t</div>\r\n\t</div>\r\n</ng-template>\r\n\r\n<ng-template #noInputOptionsTmpl>\r\n\t<div class=\"select-items-wrapper\">\r\n\t\t<div class=\"select-items\">\r\n\t\t\t<ng-content select=\".simple-items\"></ng-content>\r\n\t\t</div>\r\n\t</div>\r\n</ng-template>\r\n\r\n<ng-template #searchTermTmpl>\r\n\t<div class=\"search-term__container\">\r\n\t\t<div class=\"search-term__sub-container\">\r\n\t\t\t<input type=\"text\" class=\"search-term\" placeholder=\"search for an item ...\"\r\n\t\t\t\t(click)=\"$event.preventDefault(); $event.stopPropagation()\" />\r\n\t\t\t<svg class=\"search-term__icon\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\"\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t<path d=\"M18.8167 18.0154L12.15 11.8615\" stroke=\"#adc9cebf\" stroke-width=\"3\" />\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M8.33335 13.8461C12.0153 13.8461 15 11.091 15 7.6923C15 4.29362 12.0153 1.53845 8.33335 1.53845C4.65146 1.53845 1.66669 4.29362 1.66669 7.6923C1.66669 11.091 4.65146 13.8461 8.33335 13.8461Z\"\r\n\t\t\t\t\tstroke=\"#adc9cebf\" stroke-width=\"3\" />\r\n\t\t\t</svg>\r\n\t\t</div>\r\n\t</div>\r\n</ng-template>","/*!\r\n * @ngx-dummy/select-Simple library\r\n * Simple select created for angular / ionic projects.\r\n * https://github.com/ngx-dummy/select-simple\r\n *\r\n * Copyright  Vladimir Ovsyukov <ovsyukov@yandex.com>\r\n * Published under MIT License\r\n */\r\nimport { SecurityContext } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { IOption, ISelectItem } from './models';\r\n\r\nexport const imgBase64ToBlob = (Base64Image: string, imageType = 'image/png') => {\r\n\tconst parts = Base64Image.split(';base64,');\r\n\tconst decodedData = window.atob(parts[1]);\r\n\tconst uInt8Array = new Uint8Array(decodedData.length);\r\n\tfor (let i = 0; i < decodedData.length; ++i) {\r\n\t\tuInt8Array[i] = decodedData.charCodeAt(i);\r\n\t}\r\n\treturn new Blob([uInt8Array], { type: imageType });\r\n};\r\n\r\nexport const svgToBase64src = (rawSvg: string) => 'data:image/svg+xml;base64,' + btoa(rawSvg);\r\nexport const prepRes = (item: string, sanitizer: DomSanitizer) => sanitizer.bypassSecurityTrustResourceUrl(item);\r\nexport const sanitizeHTML = (item: string, sanitizer: DomSanitizer) => sanitizer.sanitize(SecurityContext.HTML, item);\r\nexport const getSvgSafeRes = (file: string, sanitizer: DomSanitizer) => prepRes(svgToBase64src(file), sanitizer);\r\nexport const getPngSafeRes = (file: string, sanitizer: DomSanitizer) => prepRes(URL.createObjectURL(imgBase64ToBlob(file)), sanitizer);\r\nexport const blobToSafeRes = (blob: Blob, sanitizer: DomSanitizer) => prepRes(URL.createObjectURL(blob), sanitizer);\r\n\r\n/**\r\n *\r\n * @param data - option value (could be simple string or complex object to resolve)\r\n * @param field - the key (or complex lookup object key) of data object to resolve value by\r\n * @returns resolved single option value (Input for SelectItem)\r\n */\r\nexport const resolveFieldData = (data: IOption, field?: string): string | null => {\r\n\tif (isEmpty(data)) return null;\r\n\tif (isString(data)) return data;\r\n\tif (isSelectItem(data)) {\r\n\t\tif (data['label']) return data['label'];\r\n\t\tif (data['value']) data = data['value'];\r\n\t}\r\n\r\n\tif (field) {\r\n\t\tif (isString(field) && field.indexOf('.') === -1) {\r\n\t\t\treturn data[field];\r\n\t\t} else if (isString(field)) {\r\n\t\t\tconst fields: string[] = field.split('.');\r\n\t\t\tlet value = data;\r\n\t\t\tfor (let i = 0, len = fields.length; i < len; ++i) {\r\n\t\t\t\tif (value == null) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\tvalue = value[fields[i]];\r\n\t\t\t}\r\n\t\t\treturn resolveFieldData(value);\r\n\t\t}\r\n\t} else {\r\n\t\treturn resolveFieldData(Object.values(data)[0] as Record<string, string>);\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nexport const isValue = <T>(obj: T): obj is T => obj !== undefined && obj !== null;\r\nexport const isEmpty = <T>(obj: T): obj is T => !isValue(obj);\r\nexport const isString = (obj: IOption): obj is string => typeof obj === 'string';\r\nexport const isObject = <T extends object | string>(obj: T): obj is T => typeof obj !== 'string' && !Array.isArray(obj) && typeof obj === 'object';\r\nexport const isSelectItem = (obj: ISelectItem | string): obj is ISelectItem => (isObject(obj) && !!(<ISelectItem>obj).value) || !!(<ISelectItem>obj).label;\r\nexport const areEqual = (obj1: IOption | null, obj2: IOption | null, field?: string): boolean => {\r\n\tif (isEmpty(obj1) || isEmpty(obj2)) return false;\r\n\tif (isString(obj1) && isString(obj2)) return obj1 === obj2;\r\n\r\n\tif (field) return resolveFieldData(obj1, field) === resolveFieldData(obj2, field);\r\n\r\n\treturn JSON.stringify(obj1) === JSON.stringify(obj2);\r\n};\r\n\r\nexport enum OptionKeyboardEventHandleKeys {\r\n\tArrowDown = 'ArrowDown',\r\n\tDown = 'Down',\r\n\tArrowUp = 'ArrowUp',\r\n\tEnter = 'Enter',\r\n\tEscape = 'Escape',\r\n\tEsc = 'Esc',\r\n\tUp = 'Up',\r\n\tTab = 'Tab',\r\n\tSpace = ' ',\r\n}\r\n","/*!\r\n * @ngx-dummy/select-Simple library\r\n * Simple select created for angular / ionic projects.\r\n * https://github.com/ngx-dummy/select-simple\r\n *\r\n * Copyright  Vladimir Ovsyukov <ovsyukov@yandex.com>\r\n * Published under MIT License\r\n */\r\n\r\nexport const arrow_down =\r\n\t'<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#454\" width=\"48px\" height=\"48px\"><path d=\"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z\"/><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/></svg>';\r\n"],"names":["ChangeDetectorRef","ElementRef","EventEmitter","forwardRef","NgZone","Provider","QueryList","Renderer2","SimpleChanges","TemplateRef","ViewRef","AbstractControl","NG_VALIDATORS","NG_VALUE_ACCESSOR","Validators","DomSanitizer","BehaviorSubject","fromEvent","of","debounceTime","shareReplay","switchMap","takeUntil","SelectItemComponent","areEqual","getSvgSafeRes","isString","OptionKeyboardEventHandleKeys","resolveFieldData","arrow_down","i0","ctx_r21","ctx_r30","$event","SELECT_VALUE_ACCESSOR_PROVIDER","provide","useExisting","SelectComponent","multi","NG_VALIDATORS_PROVIDER","constructor","el","renderer","cd","sanitizer","zone","undefined","backgroundColor","color","border","borderRadius","boxShadow","_overlayVisible$$","asObservable","pipe","refCount","bufferSize","_optionsToDisplay$$","onHostFocus","console","log","prevValue","onHostBlur","selectedOption","headerStyle","headStyleObj","Object","keys","length","_headerStyle","panelStyle","stylesObj","_panelStyle","options","val","_options","next","updateSelectedOption","disabled","_disabled","focused","value","hide","destroyed","detectChanges","ngOnChanges","changes","entries","forEach","changeKey","change","currentValue","previousValue","openerBtnTemplate","defaultOpenerTemplate","itemsListDefaultTmpl","markForCheck","ngAfterContentInit","templates","itemslistTemplate","selectedItemTemplate","projectedItems","itemCmp","optionClick","subscribe","e","onItemClick","document","ev","iconContainer","target","classList","contains","isOutsideClicked","onInputFocus","onFocus","emit","onInputBlur","onBlur","label","getOptionLabel","placeholder","option","optionLabelKey","getOptionValue","isOptionDisabled","baseEvent","readonly","selectItem","setTimeout","update","onModelChange","onChange","originalEvent","writeValue","validate","required","invalid","isNotValid","registerOnChange","fn","registerOnTouched","onModelTouched","setDisabledState","onMouseclick","onClick","show","reset","MouseEvent","event","nativeElement","isSameNode","onShow","searchField","searchFieldInputEl","querySelector","focus","onHide","searchTerm","filter","opt","optionValue","found","toLowerCase","includes","onKeydown","key","ArrowDown","Down","altKey","selectedItemIndex","findOptionIndex","nextEnabledOption","findNextEnabledOption","preventDefault","ArrowUp","Up","prevEnabledOption","findPrevEnabledOption","Space","Enter","Escape","Esc","Tab","opts","trim","index","i","selectors","contentQueries","ctx","ngContentSelectors","decls","vars","consts","template"],"sourceRoot":"webpack:///"}